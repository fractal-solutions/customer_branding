<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_partner_form_branding" model="ir.ui.view">
        <field name="name">res.partner.form.branding</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page string="Branding" name="branding_tab">
                    <group>
                        <field name="branding_type"/>
                        <field name="brand_name" invisible="branding_type != 'own'"/>
                        <field name="joint_brand_line_ids" invisible="branding_type != 'joint'">
                            <list editable="bottom">
                                <field name="sequence" widget="handle"/>
                                <field name="name"/>
                            </list>
                        </field>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <record id="view_order_form_branding_approval" model="ir.ui.view">
        <field name="name">sale.order.form.branding</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='payment_term_id']" position="after">
                <field name="cust_branding_type" widget="badge"
                    decoration-info="cust_branding_type == 'joint'"
                    decoration-warning="cust_branding_type == 'own'"/>
                <field name="cust_brand_name" invisible="cust_branding_type != 'own'"/>
                <field name="cust_joint_brand_names" invisible="cust_branding_type != 'joint'" readonly="1"/>
            </xpath>
        </field>
    </record>

    <record id="purchase_order_form_approval_inherit" model="ir.ui.view">
        <field name="active" eval="False"/>
    </record>

    <template id="report_saleorder_document_branding" inherit_id="sale.report_saleorder_document">
        <xpath expr="//div[@id='informations']" position="after">
            <div t-if="doc.cust_branding_type != 'default'"
                 style="margin-top: 20px; padding: 10px; border: 1px solid #ddd; background-color: #f9f9f9;">
                <strong>Branding Requirement:</strong>
                <span t-field="doc.cust_branding_type"/>
                <t t-if="doc.cust_branding_type == 'own' and doc.cust_brand_name"> - <span t-field="doc.cust_brand_name"/></t>
                <t t-if="doc.cust_branding_type == 'joint' and doc.cust_joint_brand_names"> - <span t-field="doc.cust_joint_brand_names"/></t>
            </div>
        </xpath>
    </template>

    <template id="report_delivery_document_branding" inherit_id="stock.report_delivery_document">
        <xpath expr="//div[@name='div_sched_date']" position="after">
            <div t-if="o.sale_id and o.sale_id.cust_branding_type != 'default'"
                 style="background-color: #FFEEAA; padding: 10px; border: 2px solid black; margin-top: 10px;">
                <strong style="text-transform: uppercase;">Factory Labeling Instructions:</strong>
                <br/>
                Type: <span t-field="o.sale_id.cust_branding_type"/>
                <t t-if="o.sale_id.cust_branding_type == 'own' and o.sale_id.cust_brand_name"> | Brand: <span t-field="o.sale_id.cust_brand_name"/></t>
                <t t-if="o.sale_id.cust_branding_type == 'joint' and o.sale_id.cust_joint_brand_names"> | Brands: <span t-field="o.sale_id.cust_joint_brand_names"/></t>
            </div>
        </xpath>
    </template>
</odoo>
